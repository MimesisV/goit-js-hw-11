{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const gallery = document.querySelector('.gallery');\n\nexport default function makeMarcup (hits) {\n    const renderImg = hits.reduce((html, hit) => {\n        return (\n          html +\n          `<li class=\"gallery-item\">\n              <a href=${hit.largeImageURL}> \n              <img class=\"gallery-img\" src =${hit.webformatURL} alt=${hit.tags}/>\n              </a>\n              <div class=\"gallery-text-box\">\n                <p>Likes: <span class=\"text-value\">${hit.likes}</span></p>\n                <p>views: <span class=\"text-value\">${hit.views}</span></p>\n                <p>comments: <span class=\"text-value\">${hit.comments}</span></p>\n                <p>downloads: <span class=\"text-value\">${hit.downloads}</span></p>\n              </div>\n          </li>`\n        );\n      }, '');\n\n      gallery.innerHTML = renderImg;\n}","export default function fetchData (params) {\n    return fetch(`https://pixabay.com/api/?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport makeMarcup from './js/render-functions.js'\nimport fetchData from './js/pixabay-api.js'\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst searchParamsDefaults = {\n  key: '12371278-ee82e7e687c0227bfbef9a885',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  nav: true,\n  captionDelay: 250,\n  captionsData: 'alt',\n  close: true,\n  enableKeyboard: true,\n  docClose: true,\n});\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction showLoader() {\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\nfunction searchImg(params) {\n  return fetchData(params)\n    .then(({ hits }) => {\n      if (hits.length > 0) {\n        makeMarcup (hits);\n\n        lightbox.refresh();\n      } else {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      })\n      .catch(error => {\n        console.log(error.message);\n      })\n      .finally(() => {\n        hideLoader();\n      });\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  clearGallery()\n  showLoader();\n  searchParamsDefaults.q = event.target.elements.search.value.trim();\n  const searchParams = new URLSearchParams(searchParamsDefaults);\n  searchImg(searchParams);\n  event.currentTarget.reset();\n});"],"names":["gallery","makeMarcup","hits","renderImg","html","hit","fetchData","params","response","form","loader","searchParamsDefaults","lightbox","SimpleLightbox","clearGallery","showLoader","hideLoader","searchImg","iziToast","error","event","searchParams"],"mappings":"6vBAAA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAElC,SAASC,EAAYC,EAAM,CACtC,MAAMC,EAAYD,EAAK,OAAO,CAACE,EAAMC,IAE/BD,EACA;AAAA,wBACcC,EAAI;AAAA,8CACkBA,EAAI,oBAAoBA,EAAI;AAAA;AAAA;AAAA,qDAGrBA,EAAI;AAAA,qDACJA,EAAI;AAAA,wDACDA,EAAI;AAAA,yDACHA,EAAI;AAAA;AAAA,iBAIpD,EAAE,EAELL,EAAQ,UAAYG,CAC1B,CCrBe,SAASG,EAAWC,EAAQ,CACvC,OAAO,MAAM,4BAA4BA,GAAQ,EAChD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,CACL,CCDA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCT,EAAU,SAAS,cAAc,UAAU,EAC3CU,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAuB,CAC3B,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEMC,EAAW,IAAIC,EAAe,aAAc,CAChD,IAAK,GACL,aAAc,IACd,aAAc,MACd,MAAO,GACP,eAAgB,GAChB,SAAU,EACZ,CAAC,EAED,SAASC,GAAe,CACtBd,EAAQ,UAAY,EACtB,CAEA,SAASe,GAAa,CACpBL,EAAO,MAAM,QAAU,OACzB,CAEA,SAASM,GAAa,CACpBN,EAAO,MAAM,QAAU,MACzB,CAEA,SAASO,EAAUV,EAAQ,CACzB,OAAOD,EAAUC,CAAM,EACpB,KAAK,CAAC,CAAE,KAAAL,KAAW,CACdA,EAAK,OAAS,GAChBD,EAAYC,CAAI,EAEhBU,EAAS,QAAO,GAEhBM,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,CAET,CAAO,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,EAAM,OAAO,CACjC,CAAO,EACA,QAAQ,IAAM,CACbH,GACR,CAAO,CACP,CAEAP,EAAK,iBAAiB,SAAUW,GAAS,CACvCA,EAAM,eAAc,EACpBN,EAAc,EACdC,IACAJ,EAAqB,EAAIS,EAAM,OAAO,SAAS,OAAO,MAAM,OAC5D,MAAMC,EAAe,IAAI,gBAAgBV,CAAoB,EAC7DM,EAAUI,CAAY,EACtBD,EAAM,cAAc,OACtB,CAAC"}